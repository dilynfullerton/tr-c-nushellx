# tr-c-nushellx
_Coming soon_: MORE information about this stuff. Oooh weee! I can't wait

### Overview
_Coming soon_

### Dependencies
* python 2 (2.4 or higher)

### Setup
The following should be done to prepare for usage:

1. Clone this repository to the desired calculation directory.  

   ```bash
   git clone https://github.com/dilynfullerton/tr-c-nushellx.git
   ```
2. Add the directory containing the `shell` file to `PATH` in your
`.bash_profile` or `.profile`, replacing the ellipses as necessary.  

    ```bash
    PATH=$PATH:~/.../nushellx/linux/nushellx-intel/bin/
    ```
3. If you want to run `shell_calc.py` as a script, add the path to the
directory containing `shell_calc.py` to your `.bash_profile` or `.profile`.  


### Usage
#### Before running the calculations
1. Create a `sources` directory inside the directory in which you intend
to run `shell_calc.py`.

2. Copy NuShellX interaction files into this
directory.  
Whatever directory structure you create for these files in
the `sources` directory will be reproduced in a `results` directory.
The only difference is that the interaction files will be replaced by
directories containing that file and all the files generated by `shell`.

#### Running the calculations
##### Importing python functions
It is recommended that the user create their own python script to
import and use the primary user functions:

* `do_calculations()`
* `do_all_calculations()`

_Coming soon_: Documentation and examples of usage here. For now, see
the documentation in `shell_calc.py`.

##### Running as a script
The user may opt to run `shell_calc.py` as a UNIX-style command.

_Coming soon_: Documentation and examples of usage here. For now, see
the documentation in `shell_calc.py`.

#### Running on the cluster
This script does not have built-in parameters for submitting jobs to
the cluster, as inidividual `shell` jobs usually require such little
time (a few seconds at most) that submitting them to the cluster is
unnecessary. However, when there are many calculations to be done, it may be
beneficial to run them all on a single node on the cluster. The
following is the procedure for submitting a job to the cluster:

1. Edit `shell_calc.sh` to call `shell_calc.py` or your own python
script that uses its functionality.  

2. Edit the walltime parameter (format hh:mm:ss) to reflect the amount
of time you want to allow for the job. A typical run will
require 30 minutes or less.  

    ```bash
    #PBS -l walltime=00:30:00
    ```
3. (Optional) Add the following to `shell_calc.sh` to receive an email
when the job is complete:  

    ```bash
    #PBS -M youremail@here
    ```
4. Submit the job to cluster using the command:  

    ```bash
    qsub shell_calc.sh
    ```

#### Other userful scripts
* `get_results.sh` pulls only relevant results from a remote `$from`
location to the current directory.
* `sync_scripts.sh` puts python scripts in the main directory to a
remote location, specified by `$to`.

### Future developments
_Coming soon_
